---
phase: 01-frontend-foundation
plan: 03
type: execute
wave: 3
depends_on: ["01-01", "01-02"]
files_modified:
  - src/components/config/ConfigPanel.tsx
  - src/components/config/AvatarDescription.tsx
autonomous: true

must_haves:
  truths:
    - "User can select an avatar from dropdown showing 4 options"
    - "User can select a scene from dropdown showing 3 options"
    - "User can select a style from dropdown showing 4 options"
    - "User sees the selected avatar's description in Lithuanian"
    - "Dropdowns show Lithuanian labels and placeholders"
  artifacts:
    - path: "src/components/config/ConfigPanel.tsx"
      provides: "Configuration panel with 3 selects"
      exports: ["ConfigPanel"]
    - path: "src/components/config/AvatarDescription.tsx"
      provides: "Avatar description display"
      exports: ["AvatarDescription"]
  key_links:
    - from: "src/components/config/ConfigPanel.tsx"
      to: "src/components/ui/Select.tsx"
      via: "Select component import"
      pattern: "import.*Select.*from"
    - from: "src/components/config/ConfigPanel.tsx"
      to: "src/constants/avatars.ts"
      via: "AVATARS import"
      pattern: "import.*AVATARS.*from"
    - from: "src/components/config/ConfigPanel.tsx"
      to: "src/constants/scenes.ts"
      via: "SCENES import"
      pattern: "import.*SCENES.*from"
    - from: "src/components/config/ConfigPanel.tsx"
      to: "src/constants/styles.ts"
      via: "STYLES import"
      pattern: "import.*STYLES.*from"
---

<objective>
Build the configuration panel with avatar, scene, and style selection dropdowns, plus the avatar description display component.

Purpose: Allow users to configure their generation preferences. The ConfigPanel is the second main interaction point after image upload, enabling avatar/scene/style selection with Lithuanian UI.
Output: ConfigPanel component with 3 selects and an AvatarDescription component that shows the selected avatar's description.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/REQUIREMENTS.md
@.planning/phases/01-frontend-foundation/01-RESEARCH.md
@.planning/phases/01-frontend-foundation/01-01-SUMMARY.md
@.planning/phases/01-frontend-foundation/01-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create AvatarDescription component</name>
  <files>
    - src/components/config/AvatarDescription.tsx
  </files>
  <action>
Create the avatar description display component:

src/components/config/AvatarDescription.tsx:
```tsx
import type { Avatar } from '../../types';
import { UI_TEXT } from '../../constants/ui';

interface AvatarDescriptionProps {
  avatar: Avatar | null;
}

export function AvatarDescription({ avatar }: AvatarDescriptionProps) {
  if (!avatar) {
    return (
      <div className="p-4 bg-gray-50 rounded-lg border border-gray-200">
        <p className="text-sm text-gray-500 italic">
          Pasirinkite avatara, kad pamatytumete aprasyma
        </p>
      </div>
    );
  }

  return (
    <div className="p-4 bg-blue-50 rounded-lg border border-blue-200">
      <h4 className="font-medium text-blue-900 mb-1">
        {UI_TEXT.config.descriptionLabel}
      </h4>
      <p className="text-sm text-blue-800">
        {avatar.description}
      </p>
      <div className="mt-2 flex gap-2">
        <span className="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800">
          {avatar.vibe}
        </span>
        <span className="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
          {avatar.skinTone}
        </span>
      </div>
    </div>
  );
}
```

This component:
- Shows a placeholder message when no avatar is selected
- Displays the avatar description when one is selected
- Shows the avatar's vibe and skin tone as tags
- Uses Lithuanian text from UI_TEXT constants
  </action>
  <verify>
1. TypeScript compiles: `npx tsc --noEmit`
2. File exists at src/components/config/AvatarDescription.tsx
3. Component handles both null and Avatar cases
  </verify>
  <done>
AvatarDescription component created that displays selected avatar's description, vibe, and skin tone. Shows placeholder text when no avatar selected.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create ConfigPanel component with all selects</name>
  <files>
    - src/components/config/ConfigPanel.tsx
  </files>
  <action>
Create the main configuration panel:

src/components/config/ConfigPanel.tsx:
```tsx
import { Select } from '../ui/Select';
import { AvatarDescription } from './AvatarDescription';
import { AVATARS } from '../../constants/avatars';
import { SCENES } from '../../constants/scenes';
import { STYLES } from '../../constants/styles';
import { UI_TEXT } from '../../constants/ui';
import type { Avatar, Scene, Style, Config } from '../../types';

interface ConfigPanelProps {
  config: Config;
  onConfigChange: (config: Config) => void;
}

export function ConfigPanel({ config, onConfigChange }: ConfigPanelProps) {
  const handleAvatarChange = (avatar: Avatar) => {
    onConfigChange({ ...config, avatar });
  };

  const handleSceneChange = (scene: Scene) => {
    onConfigChange({ ...config, scene });
  };

  const handleStyleChange = (style: Style) => {
    onConfigChange({ ...config, style });
  };

  return (
    <div className="space-y-6">
      <h2 className="text-lg font-semibold text-gray-900">
        {UI_TEXT.config.title}
      </h2>

      {/* Avatar Selection */}
      <div className="space-y-3">
        <Select<Avatar>
          value={config.avatar}
          onChange={handleAvatarChange}
          options={AVATARS}
          getLabel={(avatar) => avatar.name}
          label={UI_TEXT.config.avatarLabel}
          placeholder={UI_TEXT.config.placeholder}
        />
        <AvatarDescription avatar={config.avatar} />
      </div>

      {/* Scene Selection */}
      <Select<Scene>
        value={config.scene}
        onChange={handleSceneChange}
        options={SCENES}
        getLabel={(scene) => scene.name}
        label={UI_TEXT.config.sceneLabel}
        placeholder={UI_TEXT.config.placeholder}
      />

      {/* Style Selection */}
      <Select<Style>
        value={config.style}
        onChange={handleStyleChange}
        options={STYLES}
        getLabel={(style) => style.name}
        label={UI_TEXT.config.styleLabel}
        placeholder={UI_TEXT.config.placeholder}
      />
    </div>
  );
}
```

This component:
- Receives config state and onChange handler as props (controlled component)
- Renders 3 Select components for avatar, scene, and style
- Shows AvatarDescription below the avatar select
- Uses all constants from Phase 01 Plan 01
- All labels and placeholders are Lithuanian from UI_TEXT
  </action>
  <verify>
1. TypeScript compiles: `npx tsc --noEmit`
2. File exists at src/components/config/ConfigPanel.tsx
3. Component imports from correct paths:
   - Select from '../ui/Select'
   - AvatarDescription from './AvatarDescription'
   - AVATARS, SCENES, STYLES from constants
4. Component is controlled (receives config prop, calls onConfigChange)
  </verify>
  <done>
ConfigPanel component created with:
- Avatar select with 4 options, shows AvatarDescription below
- Scene select with 3 options
- Style select with 4 options
- All Lithuanian labels from UI_TEXT
- Controlled component pattern for state management
  </done>
</task>

</tasks>

<verification>
After completing both tasks:

1. `npx tsc --noEmit` passes with no errors
2. Directory structure exists:
   - src/components/config/AvatarDescription.tsx
   - src/components/config/ConfigPanel.tsx
3. ConfigPanel imports and uses Select from ui folder
4. ConfigPanel imports all constants (AVATARS, SCENES, STYLES)
5. AvatarDescription handles null avatar state gracefully
6. All visible text is Lithuanian
</verification>

<success_criteria>
- Both files created with correct TypeScript types
- No TypeScript compilation errors
- ConfigPanel is a controlled component (props for state)
- AvatarDescription shows description when avatar selected
- AvatarDescription shows placeholder when no avatar
- All 3 selects use correct options arrays
- All UI text is Lithuanian
- Ready for Plan 04 to integrate into App.tsx
</success_criteria>

<output>
After completion, create `.planning/phases/01-frontend-foundation/01-03-SUMMARY.md`
</output>
