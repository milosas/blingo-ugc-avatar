---
phase: 03-integration-and-results
plan: 04
type: execute
wave: 4
depends_on: ["03-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Full end-to-end flow works: upload -> config -> generate -> results"
    - "Loading overlay appears and shows progress"
    - "Generated images display in gallery with labels"
    - "Download buttons work for each image"
    - "Lightbox opens on image click"
    - "Regenerate works with same settings"
    - "New upload clears and returns to start"
    - "Errors show Lithuanian messages and auto-recover"
---

<objective>
Verify the complete Phase 3 implementation through human testing of the full user journey.

Purpose: Ensure the MVP works end-to-end before deployment - this is the final quality gate for Phase 3.

Output: Confirmed working application or documented issues for fixing.
</objective>

<execution_context>
@C:\Users\milos\.claude\get-shit-done\workflows\execute-plan.md
@C:\Users\milos\.claude\get-shit-done\templates\summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/03-integration-and-results/03-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Phase 3 integration: generation flow, loading states, results gallery, download, regenerate, new upload, error handling</what-built>
  <how-to-verify>
1. Start dev server: `npm run dev` (should be at http://localhost:5173)

2. **Test Upload + Config (idle state):**
   - Upload 1-3 images (JPG/PNG)
   - Select avatar, scene, style from dropdowns
   - Verify "Generuoti" button becomes enabled

3. **Test Generation Flow:**
   - Click "Generuoti"
   - Verify loading overlay appears with:
     - Progress message (Siunčiama... or Generuojama...)
     - Tip text in Lithuanian
     - "Atšaukti" button
   - Wait for completion (30-60 seconds) or note if it times out

4. **Test Results (if generation succeeds):**
   - Verify 3 images appear in grid (3-col on desktop, stacked on mobile)
   - Verify each image has angle label (Toli, Arti, Labai arti)
   - Click an image - verify lightbox opens fullscreen
   - Close lightbox (click outside or X)
   - Click download button on an image - verify file downloads

5. **Test Actions:**
   - Click "Regeneruoti" - verify loading starts again
   - After results, click "Naujas upload" - verify returns to empty upload screen

6. **Test Error Handling:**
   - If error occurs naturally, verify:
     - Lithuanian error message shows
     - Auto-dismisses after 3 seconds
     - Returns to upload screen
   - (Optional) To force error: temporarily change webhook URL in .env.local to invalid URL

7. **Test Cancel:**
   - Start generation, click "Atšaukti"
   - Verify returns to idle state (no error message)

8. **Test Responsive:**
   - Resize browser to mobile width
   - Verify results gallery stacks vertically
   - Verify buttons are full-width on mobile
  </how-to-verify>
  <resume-signal>
Type "approved" if all tests pass.
If issues found, describe them with steps to reproduce.
  </resume-signal>
</task>

</tasks>

<verification>
Human verification is the verification for this plan.
</verification>

<success_criteria>
All tests in the checkpoint pass:
- Generation flow works end-to-end
- All UI states render correctly
- Loading, results, error states all functional
- Actions (regenerate, new upload, cancel) work
- Downloads work
- Lightbox works
- Responsive layout correct
</success_criteria>

<output>
After completion, create `.planning/phases/03-integration-and-results/03-04-SUMMARY.md`
</output>
